{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "be7a5d3f_e6d7079a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-10-05T12:30:57Z",
      "side": 1,
      "message": "Should rebase and remove this duplicate.",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53942b89_f52e5ea4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-10-14T11:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be7a5d3f_e6d7079a",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00a746ff_5b81e239",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-10-05T12:30:57Z",
      "side": 1,
      "message": "Issue: calyxos#490",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8867eafb_0110e7f9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-10-14T11:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "00a746ff_5b81e239",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1dc8f4fd_03bf3a2c",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-10-05T12:30:57Z",
      "side": 1,
      "message": "We should put the script in a common repo, I created \u0027scripts-fdroid-repo\u0027 for this.\n\nSignal is in this setupwizard repo, and we also need it to the common repo since it\u0027s the one app that\u0027s not in any other repositories, so that\u0027d be the way to get updates.\n\nAnd it\u0027d make sense to not duplicate the scripts to avoid the issue last time where for one change to the script you\u0027d have to update multiple repos.\n\n\nAlso, it\u0027d be useful to have a generic download.py to avoid duplicating the same code in all of the scripts, at least download_file()",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "935e6776_4810e51a",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-10-14T11:28:25Z",
      "side": 1,
      "message": "I agree we should share code when its used in multiple places.  Right now, Signal isn\u0027t shared, that\u0027s why it is here.  The download function is too trivial to require a whole code sharing infrastructure, but it would be fine to move it there once that exists.\n\nHaving the same app in multiple repos is something that should be avoided, if possible.  It will make for confusing interactions related to repo priority.  As long as Signal isn\u0027t currently urgently needed in another repo, it\u0027ll be easier to only keep it here.  Then we can move towards making fdroid-repo-setupwizard a live repo that has proper support for a local offline mirror.  That will mean that fdroid-repo-setupwizard would be built on fully supported configurations rather than CalyxOS-specific hacks.  The F-Droid side of that work is funded and being scheduled now.",
      "parentUuid": "1dc8f4fd_03bf3a2c",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b88249a_7b5b2158",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-10-14T11:31:37Z",
      "side": 1,
      "message": "Signal is shared.\n\nThis repo is bundled with the OS, and only updated when the OS updates.\n\nWe need to have it in fdroid-repo-common so that users actually receive updates on time, outside of OS updates.\n\nWe\u0027d be adding both repos to the device and thus are able to control the priority and can avoid any issues around that right away.\n\n\nI don\u0027t want to rely on mirror logic for this repo, this isn\u0027t used in fdroidclient mainly but rather in SetupWizard which has a minimal f-droid repo parser that reads this.",
      "parentUuid": "935e6776_4810e51a",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8be62776_e5a0f580",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-11-04T09:57:23Z",
      "side": 1,
      "message": "I think the way to best share the Signal code would be to maintain the script and metadata in the fdroid-repo-common repo, then make fdroid-repo-setupwizard fetch the APKs and metadata from that repo.  That would make Signal be handled the same way as Briar in _plugins/fdroid_ersatz-update.py_.",
      "parentUuid": "0b88249a_7b5b2158",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b3ad5738_479bdbba",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-04T14:33:01Z",
      "side": 1,
      "message": "Makes sense. That way this repo does not have anything of it\u0027s own, everything is fetched from some source.",
      "parentUuid": "8be62776_e5a0f580",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb78d3a6_d59b3399",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-11-04T16:32:54Z",
      "side": 1,
      "message": "It will have to fetch the single-ABI Orbot APKs itself because the guardianproject.info repo only includes the universal binaries.  This is needed so that it fits into the size limit for gitlab/github mirrors.",
      "parentUuid": "b3ad5738_479bdbba",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c924b772_470d999b",
        "filename": "check-signal.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-05T11:37:47Z",
      "side": 1,
      "message": "Right, I meant just the metadata. And in general, anything in setupwizard repo should either be in the f-droid.org repo, guardianproject.info repo, or our new common repo. That way there\u0027s an update path available always.\n\nSo it sounds like in addition to Signal, we\u0027ll have the single-ABI Orbot APKs in the common repo. Only need arm64 in there for now.",
      "parentUuid": "bb78d3a6_d59b3399",
      "revId": "6c847751fc56165c32144fba6fc1bce620615226",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}